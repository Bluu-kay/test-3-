<!doctype html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Loading… | Keshaan Pitt</title><meta name="description" content="Initial loading screen for Keshaan Pitt's portfolio."><link rel="icon" href="/favicon.ico" sizes="any"><link rel="icon" href="/icon.svg" type="image/svg+xml"><link rel="apple-touch-icon" href="icon.png"><link rel="manifest" href="site.webmanifest"><meta name="theme-color" content="#fafafa"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,500;9..144,700&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet"><link rel="preload" href="css/style.css" as="style"><link rel="preload" href="js/app.js" as="script"><link rel="prefetch" href="home.html"><style>:root {
      --ink: #4b5f4e;
      --cream: #dad7cd;
      --accent: #588157;
      --glow: rgba(88, 129, 87, 0.35);
      --h: 87;
      --s: 18%;
      --l: 43%;
      --bg-main: #7e947e;
      --bg-grad-1: #8ea38e;
      --bg-grad-2: #7e947e;
      --bg-grad-3: #6f856f;
      --bg-grad-4: #647a64;
      --radius: 28px;
      --font-display: "Fraunces", "Times New Roman", serif;
      --font-body: "Space Grotesk", "Segoe UI", sans-serif;
    }
    html, body {
      height: 100%;
    }
    html { background-color: var(--bg-main); }
    body {
      margin: 0;
      display: grid;
      place-items: center;
      font-family: var(--font-body);
      color: var(--ink);
      background: linear-gradient(180deg, var(--bg-grad-1) 0%, var(--bg-grad-2) 40%, var(--bg-grad-3) 75%, var(--bg-grad-4) 100%);
      transition: opacity 1s cubic-bezier(0.22, 1, 0.36, 1), background 0.5s ease, color 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease;
    }
    body.fade-out {
      opacity: 0;
    }
    .wrap {
      display: grid;
      gap: 22px;
      justify-items: center;
      padding: 24px;
    }
    .logo {
      font-family: var(--font-display);
      font-size: clamp(1.6rem, 3.2vw, 2rem);
      letter-spacing: -0.02em;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 64px;
      height: 64px;
      border-radius: 18px;
      background: var(--cream);
      box-shadow: 0 16px 30px rgba(13, 14, 19, 0.08);
      transition: background 0.5s ease, color 0.5s ease, box-shadow 0.5s ease;
    }
    .card {
      position: relative;
      background: var(--ink);
      color: var(--text-on-ink);
      border-radius: var(--radius);
      padding: 28px 30px;
      min-width: min(90vw, 420px);
      box-shadow: 0 24px 45px rgba(13, 14, 19, 0.35);
      overflow: hidden;
      text-align: center;
      transition: background 0.5s ease, color 0.5s ease, box-shadow 0.5s ease;
    }
    .card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top right, hsla(var(--h), var(--s), var(--l), 0.65), transparent 45%);
      opacity: 0.9;
      transition: background 0.5s ease;
    }
    .title { position: relative; margin: 0; font-family: var(--font-display); transition: color 0.5s ease; }
    .subtitle { position: relative; opacity: 0.8; margin: 6px 0 0; transition: color 0.5s ease; }

    .loader {
      position: relative;
      width: 100%;
      height: 120px;
      perspective: 800px;
      margin-top: 20px;
      margin-bottom: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .dot {
      position: absolute;
      width: 8px;
      height: 8px;
      background: var(--text-on-ink);
      border-radius: 50%;
      animation: rotate 6s infinite linear;
      box-shadow: 0 0 8px var(--text-on-ink);
      transform-origin: center;
      transition: background 0.5s ease, box-shadow 0.5s ease;
    }

    /* Top Strand */
    .dot:nth-child(1) { animation-delay: -0.1s; }
    .dot:nth-child(2) { animation-delay: -0.2s; }
    .dot:nth-child(3) { animation-delay: -0.3s; }
    .dot:nth-child(4) { animation-delay: -0.4s; }
    .dot:nth-child(5) { animation-delay: -0.5s; }
    .dot:nth-child(6) { animation-delay: -0.6s; }
    .dot:nth-child(7) { animation-delay: -0.7s; }
    .dot:nth-child(8) { animation-delay: -0.8s; }
    .dot:nth-child(9) { animation-delay: -0.9s; }
    .dot:nth-child(10) { animation-delay: -1.0s; }
    .dot:nth-child(11) { animation-delay: -1.1s; }
    .dot:nth-child(12) { animation-delay: -1.2s; }
    .dot:nth-child(13) { animation-delay: -1.3s; }
    .dot:nth-child(14) { animation-delay: -1.4s; }
    .dot:nth-child(15) { animation-delay: -1.5s; }
    .dot:nth-child(16) { animation-delay: -1.6s; }
    .dot:nth-child(17) { animation-delay: -1.7s; }
    .dot:nth-child(18) { animation-delay: -1.8s; }
    .dot:nth-child(19) { animation-delay: -1.9s; }
    .dot:nth-child(20) { animation-delay: -2.0s; }

    /* Bottom Strand (offset by 1.5s to be 180 deg out of phase) */
    .dot:nth-child(21) { animation-delay: -1.6s; }
    .dot:nth-child(22) { animation-delay: -1.7s; }
    .dot:nth-child(23) { animation-delay: -1.8s; }
    .dot:nth-child(24) { animation-delay: -1.9s; }
    .dot:nth-child(25) { animation-delay: -2.0s; }
    .dot:nth-child(26) { animation-delay: -2.1s; }
    .dot:nth-child(27) { animation-delay: -2.2s; }
    .dot:nth-child(28) { animation-delay: -2.3s; }
    .dot:nth-child(29) { animation-delay: -2.4s; }
    .dot:nth-child(30) { animation-delay: -2.5s; }
    .dot:nth-child(31) { animation-delay: -2.6s; }
    .dot:nth-child(32) { animation-delay: -2.7s; }
    .dot:nth-child(33) { animation-delay: -2.8s; }
    .dot:nth-child(34) { animation-delay: -2.9s; }
    .dot:nth-child(35) { animation-delay: -3.0s; }
    .dot:nth-child(36) { animation-delay: -3.1s; }
    .dot:nth-child(37) { animation-delay: -3.2s; }
    .dot:nth-child(38) { animation-delay: -3.3s; }
    .dot:nth-child(39) { animation-delay: -3.4s; }
    .dot:nth-child(40) { animation-delay: -3.5s; }

    @keyframes rotate {
      0% {
        transform: rotateY(0deg) translateX(-100px) rotateX(45deg);
        opacity: 0.3;
      }
      25% {
        opacity: 1;
      }
      50% {
        transform: rotateY(180deg) translateX(-100px) rotateX(45deg);
        opacity: 0.3;
      }
      75% {
        opacity: 1;
      }
      100% {
        transform: rotateY(360deg) translateX(-100px) rotateX(45deg);
        opacity: 0.3;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      .dot { animation: none; }
    }</style><script>(function() {
      // Color picker logic for loading screen
      const hexToHsl = (hex) => {
        let r = 0, g = 0, b = 0;
        if (hex.length === 4) {
          r = parseInt(hex[1] + hex[1], 16);
          g = parseInt(hex[2] + hex[2], 16);
          b = parseInt(hex[3] + hex[3], 16);
        } else if (hex.length === 7) {
          r = parseInt(hex.substring(1, 3), 16);
          g = parseInt(hex.substring(3, 5), 16);
          b = parseInt(hex.substring(5, 7), 16);
        }
        r /= 255; g /= 255; b /= 255;
        const max = Math.max(r, g, b), min = Math.min(r, g, b);
        let h, s, l = (max + min) / 2;
        if (max === min) {
          h = s = 0;
        } else {
          const d = max - min;
          s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
          switch (max) {
            case r: h = (g - b) / d + (g < b ? 6 : 0); break;
            case g: h = (b - r) / d + 2; break;
            case b: h = (r - g) / d + 4; break;
          }
          h /= 6;
        }
        return { h: h * 360, s: s * 100, l: l * 100 };
      };

      const updateThemeColors = (color) => {
        const hsl = hexToHsl(color);
        const root = document.documentElement;

        const isLight = hsl.l > 70;

        root.style.setProperty('--accent', color);
        root.style.setProperty('--glow', `hsla(${hsl.h}, ${hsl.s}%, ${hsl.l}%, 0.35)`);

        if (isLight) {
          root.style.setProperty('--ink', `hsl(${hsl.h}, ${Math.max(15, hsl.s * 0.3)}%, 12%)`);
          root.style.setProperty('--text-on-bg', `hsl(${hsl.h}, ${Math.max(15, hsl.s * 0.3)}%, 12%)`);
          root.style.setProperty('--text-on-ink', '#ffffff');
        } else {
          root.style.setProperty('--ink', `hsl(${hsl.h}, ${Math.max(10, hsl.s * 0.2)}%, 33%)`);
          root.style.setProperty('--text-on-bg', '#ffffff');
          root.style.setProperty('--text-on-ink', '#ffffff');
        }

        root.style.setProperty('--cream', `hsl(${hsl.h}, ${hsl.s * 0.2}%, 83%)`);

        const bgL = isLight ? 85 : 54;
        root.style.setProperty('--bg-main', `hsl(${hsl.h}, ${hsl.s * 0.15}%, ${bgL}%)`);

        if (isLight) {
          root.style.setProperty('--bg-grad-1', `hsl(${hsl.h}, ${hsl.s * 0.15}%, 92%)`);
          root.style.setProperty('--bg-grad-2', `hsl(${hsl.h}, ${hsl.s * 0.15}%, 85%)`);
          root.style.setProperty('--bg-grad-3', `hsl(${hsl.h}, ${hsl.s * 0.15}%, 78%)`);
          root.style.setProperty('--bg-grad-4', `hsl(${hsl.h}, ${hsl.s * 0.15}%, 72%)`);
        } else {
          root.style.setProperty('--bg-grad-1', `hsl(${hsl.h}, ${hsl.s * 0.15}%, 60%)`);
          root.style.setProperty('--bg-grad-2', `hsl(${hsl.h}, ${hsl.s * 0.15}%, 54%)`);
          root.style.setProperty('--bg-grad-3', `hsl(${hsl.h}, ${hsl.s * 0.15}%, 48%)`);
          root.style.setProperty('--bg-grad-4', `hsl(${hsl.h}, ${hsl.s * 0.15}%, 44%)`);
        }

        root.style.setProperty('--h', `${hsl.h}`);
        root.style.setProperty('--s', `${hsl.s}%`);
        root.style.setProperty('--l', `${Math.min(90, hsl.l * 1.2)}%`);
      };

      const savedColor = localStorage.getItem('themeColor');
      if (savedColor) {
        updateThemeColors(savedColor);
      }

      // Parse query parameters
      var params = new URLSearchParams(window.location.search);
      var redirectUrl = params.get('redirect') || 'home.html';
      var isForced = params.has('redirect');

      // If we've already shown the splash this session, go straight to index
      // UNLESS it's a forced refresh via the redirect parameter
      try {
        if (!isForced && sessionStorage.getItem('seenSplash') === '1') {
          window.location.replace(redirectUrl);
          return;
        }
        // Mark as seen for this session
        sessionStorage.setItem('seenSplash', '1');
      } catch (e) {
        // If storage is unavailable, proceed with timed redirect anyway
      }

      var reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      var minDelay = reduced ? 200 : 3500; // Adjusted for a punchier feel
      var maxWait = reduced ? 500 : 6000;  // hard cap so we don't hold too long on slow networks

      function sleep(ms){ return new Promise(function(r){ setTimeout(r, ms); }); }

      // Warm the cache for the destination and its critical assets
      var warmups = [
        fetch(redirectUrl, { cache: 'force-cache' }).catch(function(){}),
        fetch('css/style.css', { cache: 'force-cache' }).catch(function(){}),
        fetch('js/app.js', { cache: 'force-cache' }).catch(function(){})
      ];

      window.addEventListener('DOMContentLoaded', function() {
        Promise.all([
          // Either all warmups finish or the max wait elapses
          Promise.race([ Promise.allSettled(warmups), sleep(maxWait) ]),
          // Ensure the loader remains visible for at least the minimum delay
          sleep(minDelay)
        ]).then(function(){
          var title = document.querySelector('.title');
          var subtitle = document.querySelector('.subtitle');
          if (title) title.textContent = 'Loaded';
          if (subtitle) subtitle.style.opacity = '0';

          return sleep(500); // Brief pause to show "Loaded"
        }).then(function(){
          document.body.classList.add('fade-out');
          return sleep(1000); // Wait for fade-out transition
        }).then(function(){
          window.location.replace(redirectUrl);
        });
      });
    })();</script><script defer="defer" src="./js/app.js"></script></head><body><div class="wrap"><div class="logo">KP</div><div class="card" role="status" aria-live="polite"><h1 class="title">Loading Portfolio…</h1><p class="subtitle">Preparing Animations and Content</p><div class="loader" aria-hidden="true"><span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span> <span class="dot"></span></div></div></div></body></html>